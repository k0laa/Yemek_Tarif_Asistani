<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarif Bulucu</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            margin: 0;
            padding: 20px;
        }

        h1 {
            text-align: center;
            color: white;
        }

        .container {
            background: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            margin: auto;
        }

        label {
            display: block;
            margin: 10px 0 5px;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        button {
            background-color: #FB9EC6;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #FFCCE1;
        }

        #recipeDisplay {
            margin-top: 20px;
            text-align: center;
        }
    </style>
</head>
<body>
<h1>Tarif Bulucu</h1>
<div class="container">
    <!-- Malzeme Girişi -->
    <label for="ingredients">Malzemeleri Giriniz:</label>
    <input type="text" id="ingredients" placeholder="Örn: tavuk, sarımsak, soğan" />

    <!-- Mutfak Türü Seçimi -->
    <label for="cuisineType">Mutfak Türü Seçiniz:</label>
    <select id="cuisineType">
        <option value="">Seçiniz</option>
        <option value="African">Afrika</option>
        <option value="Asian">Asya</option>
        <option value="American">Amerikan</option>
        <option value="British">İngiliz</option>
        <option value="Cajun">Cajun</option>
        <option value="Caribbean">Karayip</option>
        <option value="Chinese">Çin</option>
        <option value="Eastern European">Doğu Avrupa</option>
        <option value="European">Avrupa</option>
        <option value="French">Fransız</option>
        <option value="German">Alman</option>
        <option value="Greek">Yunan</option>
        <option value="Indian">Hint</option>
        <option value="Irish">İrlanda</option>
        <option value="Italian">İtalyan</option>
        <option value="Japanese">Japon</option>
        <option value="Jewish">Yahudi</option>
        <option value="Korean">Kore</option>
        <option value="Latin American">Latin Amerika</option>
        <option value="Mediterranean">Akdeniz</option>
        <option value="Mexican">Meksika</option>
        <option value="Middle Eastern">Orta Doğu</option>
        <option value="Nordic">Nordik</option>
        <option value="Southern">Güney</option>
        <option value="Spanish">İspanyol</option>
        <option value="Thai">Tayland</option>
        <option value="Vietnamese">Vietnam</option>
    </select>

    <!-- Diyet Kısıtlamaları -->
    <label for="dietaryRestrictions">Diyet Kısıtlamaları:</label>
    <select id="dietaryRestrictions">
        <option value="">Seçiniz</option>
        <option value="Gluten Free">Glutensiz</option>
        <option value="Ketogenic">Ketojenik</option>
        <option value="Vegetarian">Vejetaryen</option>
        <option value="Lacto vegetarian">Lakto Vejetaryen</option>
        <option value="Ovo-Vegetarian">Ovo Vejetaryen</option>
        <option value="Vegan">Vegan</option>
        <option value="Pescetarian">Pesketaryen</option>
        <option value="Paleo">Paleo</option>
        <option value="Primal">Primal</option>
        <option value="Low FODMAP">Düşük FODMAP</option>
        <option value="Whole30">Whole30</option>
    </select>

    <!-- Yemek Türü Seçimi -->
    <label for="mealType">Yemek Türü Seçiniz:</label>
    <select id="mealType">
        <option value="">Seçiniz</option>
        <option value="Main Course">Ana Yemek</option>
        <option value="Side Dish">Yan Yemek</option>
        <option value="Dessert">Tatlı</option>
        <option value="Appetizer">Aperatif</option>
        <option value="Salad">Salata</option>
        <option value="Bread">Ekmek</option>
        <option value="Breakfast">Kahvaltı</option>
        <option value="Soup">Çorba</option>
        <option value="Beverage">İçecek</option>
        <option value="Sauce">Sos</option>
        <option value="Marinade">Marine</option>
        <option value="Fingerfood">Atıştırmalık</option>
        <option value="Snack">Atıştırmalık</option>
        <option value="Drink">İçecek</option>
    </select>

    <!-- Alerjenler -->
    <label for="intolerances">Alerjenler:</label>
    <select id="intolerances">
        <option value="">Seçiniz</option>
        <option value="Dairy">Süt</option>
        <option value="Egg">Yumurta</option>
        <option value="Gluten">Gluten</option>
        <option value="Grain">Tahıl</option>
        <option value="Peanut">Yer Fıstığı</option>
        <option value="Seafood">Deniz Ürünü</option>
        <option value="Sesame">Susam</option>
        <option value="Shellfish">Kabuklu Deniz Ürünü</option>
        <option value="Soy">Soya</option>
        <option value="Sulfite">Sülfit</option>
        <option value="Tree Nut">Kuruyemiş</option>
        <option value="Wheat">Buğday</option>
    </select>

    <!-- Dahil Edilecek Etiketler -->
    <label for="include_tags">Dahil Edilecek Etiketler:</label>
    <input type="text" id="include_tags" name="include_tags" placeholder="Örneğin: tavuk, sarımsak" />

    <!-- Hariç Tutulacak Etiketler -->
    <label for="exclude_tags">Hariç Tutulacak Etiketler:</label>
    <input type="text" id="exclude_tags" name="exclude_tags" placeholder="Örneğin: tuz, şeker" />

    <!-- Rastgele Tarif Getir Butonu -->
    <button id="randomButton" type="submit">Rastgele Tarif Getir</button>
</div>

<div id="recipeDisplay"></div>

<script>
    function getRandom() {
        // Rastgele tarif getirme rotasına yönlendir
        window.location.href = '/random_recipe';
    }

    function findRecipe() {
        // Kullanıcıdan verileri toplama
        const ingredients = document.getElementById('ingredients').value.trim();
        const cuisineType = document.getElementById('cuisineType').value;
        const dietaryRestrictions = document.getElementById('dietaryRestrictions').value;
        const mealType = document.getElementById('mealType').value;
        const intolerances = document.getElementById('intolerances').value;
        const includeTags = document.getElementById('include_tags').value.trim();
        const excludeTags = document.getElementById('exclude_tags').value.trim();

        // uyarı için
        if (!ingredients && !cuisineType && !dietaryRestrictions && !mealType && !intolerances && !includeTags && !excludeTags) {
            alert('Lütfen en az bir filtre veya malzeme giriniz!');
            return;
        }

        // form ile gönderme
        const form = document.createElement('form');
        form.action = '/find_random_recipe';
        form.method = 'post';

        // gizli inputlar
        if (ingredients) {
            const ingredientsInput = document.createElement('input');
            ingredientsInput.type = 'hidden';
            ingredientsInput.name = 'ingredients';
            ingredientsInput.value = ingredients;
            form.appendChild(ingredientsInput);
        }

        if (cuisineType) {
            const cuisineInput = document.createElement('input');
            cuisineInput.type = 'hidden';
            cuisineInput.name = 'cuisineType';
            cuisineInput.value = cuisineType;
            form.appendChild(cuisineInput);
        }

        if (dietaryRestrictions) {
            const dietaryInput = document.createElement('input');
            dietaryInput.type = 'hidden';
            dietaryInput.name = 'dietaryRestrictions';
            dietaryInput.value = dietaryRestrictions;
            form.appendChild(dietaryInput);
        }

        if (mealType) {
            const mealTypeInput = document.createElement('input');
            mealTypeInput.type = 'hidden';
            mealTypeInput.name = 'mealType';
            mealTypeInput.value = mealType;
            form.appendChild(mealTypeInput);
        }

        if (intolerances) {
            const intolerancesInput = document.createElement('input');
            intolerancesInput.type = 'hidden';
            intolerancesInput.name = 'intolerances';
            intolerancesInput.value = intolerances;
            form.appendChild(intolerancesInput);
        }

        if (includeTags) {
            const includeTagsInput = document.createElement('input');
            includeTagsInput.type = 'hidden';
            includeTagsInput.name = 'include_tags';
            includeTagsInput.value = includeTags;
            form.appendChild(includeTagsInput);
        }

        if (excludeTags) {
            const excludeTagsInput = document.createElement('input');
            excludeTagsInput.type = 'hidden';
            excludeTagsInput.name = 'exclude_tags';
            excludeTagsInput.value = excludeTags;
            form.appendChild(excludeTagsInput);
        }

        // Formu sayfaya ekleyip gönderiyoruz
        document.body.appendChild(form);
        form.submit();
    }
</script>
</body>
</html>
